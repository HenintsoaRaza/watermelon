{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\henin\\\\Desktop\\\\GitProjects\\\\watermelon\\\\watermelon\\\\src\\\\body\\\\signIn.js\";\nimport React, { Component } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport userNotIn from './utility/userNotIn';\nimport loadUsers from './utility/loadUsers';\nimport user from '../objects/user.js';\n/*\r\nfunction handleEmail(event) {\r\n        this.setState({ email: event.target.email });\r\n    }\r\nfunction handlePassword(event) {\r\n        this.setState1({ lpassword: event.target.password });\r\n    }\r\n\r\nfunction handleConnect(event) {\r\n        alert('Welcome to watermelon');\r\n        event.preventDefault();\r\n    }*/\n\nclass signIn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value,\n        invalid: false\n      });\n    };\n\n    this.handleSubmit = event => {\n      var listUsers = loadUsers();\n\n      if (userNotIn(listUsers, this.state.email)) {\n        //Si on ne trouve pas l'email\n        event.preventDefault();\n        event.stopPropagation();\n        this.setState({\n          invalid: true\n        });\n        alert(\"Cette adresse mail n'existe pas\");\n      } else {\n        //Si l'email existe bien\n        var u = new user();\n        u.findUserByEmail(this.state.email); //u prend la valeur de l'objet trouvé par email\n\n        if (u.password !== this.state.password) {\n          // Si le mdp saisi ne colle pas avec celui enregistré\n          event.preventDefault();\n          event.stopPropagation();\n          alert(\"Le mdp est incorrect\");\n        } else {\n          var pState = {\n            userId: u.id,\n            page: 'account'\n          };\n          var str = JSON.stringify(pState);\n          localStorage.setItem('prevState', str); // Se connecter sur la page \"Mon compte\" avec le user trouvé\n        }\n      }\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      invalid: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"bg-light rounded border border-success container-fluid col-lg-4 col-md-8 col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"text-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \" Se Connecter \")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Adresse email\"), React.createElement(Form.Control, {\n      required: true,\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleInputChange,\n      type: \"email\",\n      placeholder: \"Entrer email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Fade, {\n      in: invalid,\n      tag: \"h5\",\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"L'email saisi n'a pas de compte chez nous :(\")), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Mot de Passe\"), React.createElement(Form.Control, {\n      required: true,\n      name: \"password\",\n      value: this.state.pwd,\n      onChange: this.handleInputChange,\n      type: \"password\",\n      placeholder: \"Mot de Passe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      class: \"justify-content-end\",\n      controlId: \"formBasicButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"success\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Connexion\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default signIn;","map":{"version":3,"sources":["C:/Users/henin/Desktop/GitProjects/watermelon/watermelon/src/body/signIn.js"],"names":["React","Component","Form","Button","userNotIn","loadUsers","user","signIn","constructor","props","handleInputChange","event","target","value","name","setState","invalid","handleSubmit","listUsers","state","email","preventDefault","stopPropagation","alert","u","findUserByEmail","password","pState","userId","id","page","str","JSON","stringify","localStorage","setItem","render","pwd"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport userNotIn from './utility/userNotIn';\r\nimport loadUsers from './utility/loadUsers';\r\nimport user from '../objects/user.js';\r\n\r\n\r\n/*\r\nfunction handleEmail(event) {\r\n        this.setState({ email: event.target.email });\r\n    }\r\nfunction handlePassword(event) {\r\n        this.setState1({ lpassword: event.target.password });\r\n    }\r\n\r\nfunction handleConnect(event) {\r\n        alert('Welcome to watermelon');\r\n        event.preventDefault();\r\n    }*/\r\n\r\n\r\nclass signIn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            invalid: false,\r\n        };\r\n    }\r\n\r\n    handleInputChange = (event) => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({ [name]: value, invalid: false });\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        var listUsers = loadUsers();\r\n        if (userNotIn(listUsers, this.state.email)) { //Si on ne trouve pas l'email\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.setState({invalid: true});\r\n            alert(\"Cette adresse mail n'existe pas\");\r\n\r\n        } else { //Si l'email existe bien\r\n            var u = new user();\r\n            u.findUserByEmail(this.state.email); //u prend la valeur de l'objet trouvé par email\r\n\r\n            if (u.password !== this.state.password) { // Si le mdp saisi ne colle pas avec celui enregistré\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                alert(\"Le mdp est incorrect\");\r\n\r\n            } else {\r\n                var pState = { userId: u.id, page: 'account' };\r\n                var str = JSON.stringify(pState);\r\n                localStorage.setItem('prevState', str);\r\n                // Se connecter sur la page \"Mon compte\" avec le user trouvé\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <br /><br /><br /><br />\r\n                <div class=\"bg-light rounded border border-success container-fluid col-lg-4 col-md-8 col-sm-10\" >\r\n                    <br /><br />\r\n                    <h1 align=\"center\"><a class=\"text-success\" > Se Connecter </a></h1>\r\n                    <br /><br />\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                        <Form.Group controlId=\"formBasicEmail\">\r\n                            <Form.Label>Adresse email</Form.Label>\r\n                            <Form.Control\r\n                                required name=\"email\"\r\n                                value={this.state.email}\r\n                                onChange={this.handleInputChange}\r\n                                type=\"email\" placeholder=\"Entrer email\" />\r\n                            <Fade in={invalid} tag=\"h5\" className=\"mt-3\">\r\n                                L'email saisi n'a pas de compte chez nous :(\r\n                            </Fade>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Label>Mot de Passe</Form.Label>\r\n                            <Form.Control\r\n                                required name=\"password\"\r\n                                value={this.state.pwd}\r\n                                onChange={this.handleInputChange}\r\n                                type=\"password\" placeholder=\"Mot de Passe\" />\r\n                        </Form.Group>\r\n                        <br />\r\n                        <Form.Group class=\"justify-content-end\" controlId=\"formBasicButton\">\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Connexion\r\n                            </Button>\r\n                        </Form.Group>\r\n                    </Form >\r\n                    <br /><br />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default signIn;"]},"metadata":{},"sourceType":"module"}