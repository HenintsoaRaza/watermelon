{"ast":null,"code":"class Card {\n  constructor(_id, last_4, brand, expired_at, _userId) {\n    this.getNewId = () => {\n      if (this.loadCards().length == 0) {\n        return 1;\n      } else {\n        const listCards = this.loadCards();\n        var max = 0;\n\n        for (let i = 0; i < listCards.length; i++) {\n          if (listCards[i].id > max) {\n            max = listCards[i].id;\n          }\n        }\n\n        max = max + 1;\n        return max;\n      }\n    };\n\n    this.loadCards = () => {\n      var listCards = [];\n\n      for (let i = 0; i < localStorage.length; i++) {\n        var key = localStorage.key(i);\n\n        if (key.charAt(0) == 'c') {\n          var c = new Card();\n          c.copy(JSON.parse(localStorage.getItem(key)));\n          listCards.push(c);\n        }\n      }\n\n      return listCards;\n    };\n\n    this.saveCard = () => {\n      //save the card in the localstorage\n      var key = 'c'.concat(this.id);\n      var obj = JSON.stringify(this);\n      localStorage.setItem(key, obj);\n    };\n\n    this.copy = obj => {\n      this.last_4 = obj.last_4;\n      this.brand = obj.brand;\n      this.expired_at = obj.expired_at;\n      this.userId = obj.userId;\n      this.id = obj.id;\n    };\n\n    this.getCardByUserId = userId => {\n      var listCards = this.loadCards();\n\n      for (let i = 0; i < listCards.length; i++) {\n        if (listCards[i].userId !== userId) {\n          listCards.splice(i, 1);\n        }\n      }\n\n      return listCards;\n    };\n\n    this.removeCardById = id => {\n      const key = 'c'.concat(id);\n      localStorage.removeItem(key);\n    };\n\n    this.id = _id;\n    this.last_4 = last_4;\n    this.brand = brand;\n    this.expired_at = expired_at;\n    this.userId = _userId;\n  }\n\n}\n\nexport default Card;","map":{"version":3,"sources":["C:/Users/henin/Desktop/GitProjects/watermelon/watermelon/src/objects/card.js"],"names":["Card","constructor","id","last_4","brand","expired_at","userId","getNewId","loadCards","length","listCards","max","i","localStorage","key","charAt","c","copy","JSON","parse","getItem","push","saveCard","concat","obj","stringify","setItem","getCardByUserId","splice","removeCardById","removeItem"],"mappings":"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","sourcesContent":["class Card {\r\n    constructor(id, last_4, brand, expired_at, userId) {\r\n        this.id = id;\r\n        this.last_4 = last_4;\r\n        this.brand = brand;\r\n        this.expired_at = expired_at;\r\n        this.userId = userId;\r\n    }\r\n\r\n    getNewId = () => {\r\n        if (this.loadCards().length == 0) {\r\n            return 1;\r\n        } else {\r\n            const listCards = this.loadCards();\r\n            var max = 0;\r\n            for (let i = 0; i < listCards.length; i++) {\r\n                if (listCards[i].id > max) {\r\n                    max = listCards[i].id;\r\n                }\r\n            }\r\n            max = max + 1;\r\n            return max;\r\n        }\r\n    }\r\n\r\n    loadCards = () => {\r\n        var listCards = [];\r\n\r\n        for (let i = 0; i < localStorage.length; i++) {\r\n            var key = localStorage.key(i);\r\n            if (key.charAt(0) == 'c') {\r\n                var c = new Card();\r\n                c.copy(JSON.parse(localStorage.getItem(key)));\r\n                listCards.push(c);\r\n            }\r\n        }\r\n\r\n        return listCards;\r\n    }\r\n\r\n    saveCard = () => {\r\n        //save the card in the localstorage\r\n        var key = 'c'.concat(this.id);\r\n        var obj = JSON.stringify(this);\r\n        localStorage.setItem(key, obj);\r\n    }\r\n\r\n    copy = (obj) => {\r\n        this.last_4 = obj.last_4;\r\n        this.brand = obj.brand;\r\n        this.expired_at = obj.expired_at;\r\n        this.userId = obj.userId;\r\n        this.id = obj.id;\r\n    }\r\n\r\n    getCardByUserId = (userId) => {\r\n        var listCards = this.loadCards();\r\n\r\n        for (let i = 0; i < listCards.length; i++) {\r\n            if (listCards[i].userId !== userId) {\r\n                listCards.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        return listCards;\r\n    }\r\n\r\n    removeCardById = (id) => {\r\n        const key = 'c'.concat(id);\r\n        localStorage.removeItem(key);\r\n    }\r\n\r\n\r\n\r\n}\r\nexport default Card;"]},"metadata":{},"sourceType":"module"}